CREATE TABLE CADASTROS (CADASTRO_ID VARCHAR(18) NOT NULL, RAZAO_SOCIAL VARCHAR(50), TIPO_PESSOA CHAR(1), TIPO_CADASTRO CHAR(1));
alter table CADASTROS add constraint PK_CADASTROS primary key (CADASTRO_ID);

CREATE TABLE TECNICO_AGRICOLA (CPF VARCHAR(14) NOT NULL, NOME VARCHAR(50), NR_REGISTRO VARCHAR(20));
alter table TECNICO_AGRICOLA add constraint PK_TECNICO_AGRICOLA primary key (CPF);

CREATE TABLE PRODUTOS (PRODUTO_ID INTEGER NOT NULL, NOME VARCHAR(50), VALOR FLOAT, CONTROLADO CHAR(1));
alter table PRODUTOS add constraint PK_PRODUTOS primary key (PRODUTO_ID);

CREATE TABLE CAPA_PEDIDO (PEDIDO_ID INTEGER NOT NULL, CADASTRO_ID VARCHAR(18) NOT NULL, RAZAO_SOCIAL VARCHAR(50), DATA DATE, TOTAL FLOAT, STATUS CHAR(1));
alter table CAPA_PEDIDO add constraint PK_CAPA_PEDIDO primary key (PEDIDO_ID);
alter table CAPA_PEDIDO add constraint FK_CAPA_PEDIDO foreign key (CADASTRO_ID) references CADASTROS(CADASTRO_ID);

CREATE TABLE ITENS_PEDIDO (PEDIDO_ID INTEGER NOT NULL, PRODUTO_ID INTEGER NOT NULL, NOME VARCHAR(50), QUANTIDADE FLOAT, VALOR FLOAT, VLR_TOTAL FLOAT, RECEITA CHAR(1));
alter table ITENS_PEDIDO add constraint PK_ITENS_PEDIDO primary key (PEDIDO_ID,PRODUTO_ID);
alter table ITENS_PEDIDO add constraint FK_ITENS_PEDIDO foreign key (PEDIDO_ID) references CAPA_PEDIDO(PEDIDO_ID);
alter table ITENS_PEDIDO add constraint FK_ITENS_PRODUTO foreign key (PRODUTO_ID) references PRODUTOS(PRODUTO_ID);

CREATE TABLE RECEITAS (PEDIDO_ID INTEGER NOT NULL, CADASTRO_ID VARCHAR(18) NOT NULL, RAZAO_SOCIAL VARCHAR(50), CPF_TECNICO VARCHAR(14) NOT NULL, TECNICO VARCHAR(50), STATUS CHAR(1));
alter table RECEITAS add constraint PK_RECEITAS primary key (PEDIDO_ID,CADASTRO_ID);
alter table RECEITAS add constraint FK_RECEITAS foreign key (PEDIDO_ID) references CAPA_PEDIDO(PEDIDO_ID);
alter table RECEITAS add constraint FK_RECEITAS_CAD foreign key (CADASTRO_ID) references CADASTROS(CADASTRO_ID);
alter table RECEITAS add constraint FK_RECEITAS_TECNICO foreign key (CPF_TECNICO) references TECNICO_AGRICOLA(CPF);

INSERT INTO TECNICO_AGRICOLA (CPF,NOME,NR_REGISTRO) VALUES('881.605.301/10','TECNICO 1','123456');
INSERT INTO TECNICO_AGRICOLA (CPF,NOME,NR_REGISTRO) VALUES('001.938.478/50','TECNICO 2','456789');
INSERT INTO TECNICO_AGRICOLA (CPF,NOME,NR_REGISTRO) VALUES('002.056.218/72','TECNICO 3','654321');